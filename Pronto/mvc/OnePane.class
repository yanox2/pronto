<?php
/* Copyright 2013 dodat */
/*---------------------------------------------------------------------------*
 * Class - View
 *      1ペイン画面クラス
 *---------------------------------------------------------------------------*/
namespace PR;

class OnePane implements Renderable{

	protected $oMessage = null;

	private $aVals_ = array();
	private $sTemplate_ = null;

	public function __construct(){
		$this->oMessage = new Message();
	}

/*---------------------------------------------------------------------------*
 * Implement Methods
 *---------------------------------------------------------------------------*/
	public function get($rsVar){
		return $this->aVals_[$rsVar];
	}

	public function getAll(){
		return $this->aVals_;
	}

	public function set($rsVar,$rmVal){
		$this->aVals_[$rsVar] = $rmVal;
	}

	public function hasTemplate(){
		return !empty($this->sTemplate_);
	}

	public function setTemplate($rsPath){
		$this->sTemplate_ = $rsPath;
	}

	public function setMessage($rsMessage,$riType){
		$this->oMessage->add($rsMessage,$riType);
	}

	public function render(){
		if(!empty($this->oMessage)){
			$html = $this->oMessage->toHTML();
			if(!empty($html)) $this->set('message',$html);
		}
		include($this->sTemplate_);
	}
}
?>
